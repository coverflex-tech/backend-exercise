  [1m[35m (31.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "coverflex_test"[0m
  [1m[35m (106.4ms)[0m  [1m[35mCREATE DATABASE "coverflex_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "balances" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "balances" ("id" bigserial primary key, "user_id" integer, "amount" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_balances_on_user_id" ON "balances"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "user_id" bigint NOT NULL, "total" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_id" ON "orders"  ("id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "code" character varying, "name" character varying, "price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_code" ON "products"  ("code")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "purchaseds" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "purchaseds" ("id" bigserial primary key, "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_purchaseds_on_order_id" ON "purchaseds"  ("order_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_purchaseds_on_product_id" ON "purchaseds"  ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_username" ON "users"  ("username")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "purchaseds" ADD CONSTRAINT "fk_rails_622548a1de"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "purchaseds" ADD CONSTRAINT "fk_rails_dee259c3dd"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200209210114)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200209145203),
(20200209182154),
(20200209193540),
(20200209202829);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-02-10 00:06:06.491403"], ["updated_at", "2020-02-10 00:06:06.491403"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "85aa5494761115dd766a53bfe9d60903be128503"], ["created_at", "2020-02-10 00:06:06.494509"], ["updated_at", "2020-02-10 00:06:06.494509"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "balances" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "purchaseds" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'coverflex_test'[0m
  [1m[35m (16.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."balances", "public"."users", "public"."orders", "public"."purchaseds", "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "balances" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "purchaseds" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "hfyvmtowml"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "hfyvmtowml"], ["name", "Fay, Daniel and Schmidt"], ["price", 52.0], ["created_at", "2020-02-10 00:06:06.766650"], ["updated_at", "2020-02-10 00:06:06.766650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vxwvqlejpv"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "vxwvqlejpv"], ["created_at", "2020-02-10 00:06:06.773904"], ["updated_at", "2020-02-10 00:06:06.773904"]]
  [1m[36mBalance Create (0.8ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.784388"], ["updated_at", "2020-02-10 00:06:06.784388"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["hfyvmtowml"], "user_id"=>"vxwvqlejpv"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vxwvqlejpv"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "hfyvmtowml"]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "hfyvmtowml"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["total", 52.0], ["created_at", "2020-02-10 00:06:06.818401"], ["updated_at", "2020-02-10 00:06:06.818401"]]
  [1m[36mPurchased Create (1.3ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 1], ["product_id", 1], ["created_at", "2020-02-10 00:06:06.827823"], ["updated_at", "2020-02-10 00:06:06.827823"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 39ms (Views: 0.4ms | ActiveRecord: 10.7ms | Allocations: 30212)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "fwlsunkfoi"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "fwlsunkfoi"], ["name", "Hickle-Fisher"], ["price", 8.0], ["created_at", "2020-02-10 00:06:06.837917"], ["updated_at", "2020-02-10 00:06:06.837917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ehcuzzlogf"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "ehcuzzlogf"], ["created_at", "2020-02-10 00:06:06.840626"], ["updated_at", "2020-02-10 00:06:06.840626"]]
  [1m[36mBalance Create (0.4ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.842290"], ["updated_at", "2020-02-10 00:06:06.842290"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["fwlsunkfoi"], "user_id"=>"ehcuzzlogf"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ehcuzzlogf"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "fwlsunkfoi"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "fwlsunkfoi"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["total", 8.0], ["created_at", "2020-02-10 00:06:06.849604"], ["updated_at", "2020-02-10 00:06:06.849604"]]
  [1m[36mPurchased Create (0.3ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 2], ["product_id", 2], ["created_at", "2020-02-10 00:06:06.850773"], ["updated_at", "2020-02-10 00:06:06.850773"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 1931)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "sjprofqcda"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "sjprofqcda"], ["name", "Block-Reichert"], ["price", 51.0], ["created_at", "2020-02-10 00:06:06.854852"], ["updated_at", "2020-02-10 00:06:06.854852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ijbmxpotxh"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "ijbmxpotxh"], ["created_at", "2020-02-10 00:06:06.856399"], ["updated_at", "2020-02-10 00:06:06.856399"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.857518"], ["updated_at", "2020-02-10 00:06:06.857518"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["sjprofqcda"], "user_id"=>"ijbmxpotxh"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ijbmxpotxh"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "sjprofqcda"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "sjprofqcda"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["total", 51.0], ["created_at", "2020-02-10 00:06:06.862004"], ["updated_at", "2020-02-10 00:06:06.862004"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 3], ["product_id", 3], ["created_at", "2020-02-10 00:06:06.863084"], ["updated_at", "2020-02-10 00:06:06.863084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 1931)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "suuvfvnlsf"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "suuvfvnlsf"], ["name", "Tremblay, Rosenbaum and Balistreri"], ["price", 74.0], ["created_at", "2020-02-10 00:06:06.873670"], ["updated_at", "2020-02-10 00:06:06.873670"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nolgjmmpzj"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "nolgjmmpzj"], ["created_at", "2020-02-10 00:06:06.875599"], ["updated_at", "2020-02-10 00:06:06.875599"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 4], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.877071"], ["updated_at", "2020-02-10 00:06:06.877071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["suuvfvnlsf"], "user_id"=>"nolgjmmpzj"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nolgjmmpzj"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "suuvfvnlsf"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "suuvfvnlsf"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 4], ["total", 74.0], ["created_at", "2020-02-10 00:06:06.883698"], ["updated_at", "2020-02-10 00:06:06.883698"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 4], ["product_id", 4], ["created_at", "2020-02-10 00:06:06.885087"], ["updated_at", "2020-02-10 00:06:06.885087"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 1931)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "zmjvhnehfy"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "zmjvhnehfy"], ["name", "Reinger, Emmerich and McCullough"], ["price", 6.0], ["created_at", "2020-02-10 00:06:06.889650"], ["updated_at", "2020-02-10 00:06:06.889650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "flrkjxjkao"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "flrkjxjkao"], ["created_at", "2020-02-10 00:06:06.891485"], ["updated_at", "2020-02-10 00:06:06.891485"]]
  [1m[36mBalance Create (0.3ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.892556"], ["updated_at", "2020-02-10 00:06:06.892556"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["zmjvhnehfy"], "user_id"=>"flrkjxjkao"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "flrkjxjkao"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "zmjvhnehfy"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "zmjvhnehfy"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 5]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["total", 6.0], ["created_at", "2020-02-10 00:06:06.897439"], ["updated_at", "2020-02-10 00:06:06.897439"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 5], ["product_id", 5], ["created_at", "2020-02-10 00:06:06.898649"], ["updated_at", "2020-02-10 00:06:06.898649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1931)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "hsfzezejbs"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "hsfzezejbs"], ["name", "Reichel LLC"], ["price", 30.0], ["created_at", "2020-02-10 00:06:06.902452"], ["updated_at", "2020-02-10 00:06:06.902452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rkaxnlpqep"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "rkaxnlpqep"], ["created_at", "2020-02-10 00:06:06.904273"], ["updated_at", "2020-02-10 00:06:06.904273"]]
  [1m[36mBalance Create (0.3ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.905972"], ["updated_at", "2020-02-10 00:06:06.905972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["hsfzezejbs"], "user_id"=>"rkaxnlpqep"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rkaxnlpqep"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "hsfzezejbs"]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "hsfzezejbs"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["total", 30.0], ["created_at", "2020-02-10 00:06:06.911884"], ["updated_at", "2020-02-10 00:06:06.911884"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 6], ["product_id", 6], ["created_at", "2020-02-10 00:06:06.912836"], ["updated_at", "2020-02-10 00:06:06.912836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 1931)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "witpzoqtny"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "witpzoqtny"], ["created_at", "2020-02-10 00:06:06.916566"], ["updated_at", "2020-02-10 00:06:06.916566"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 7], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.917539"], ["updated_at", "2020-02-10 00:06:06.917539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"user_id"=>"witpzoqtny"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "witpzoqtny"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" IS NULL[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" IS NULL[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "odqjvvchss"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "odqjvvchss"], ["created_at", "2020-02-10 00:06:06.922965"], ["updated_at", "2020-02-10 00:06:06.922965"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 8], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.924104"], ["updated_at", "2020-02-10 00:06:06.924104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"user_id"=>"odqjvvchss"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "odqjvvchss"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" IS NULL[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" IS NULL[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nzkworldgq"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "nzkworldgq"], ["created_at", "2020-02-10 00:06:06.929685"], ["updated_at", "2020-02-10 00:06:06.929685"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 9], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.930667"], ["updated_at", "2020-02-10 00:06:06.930667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"user_id"=>"nzkworldgq"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nzkworldgq"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" IS NULL[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" IS NULL[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nexqfwvvjg"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "nexqfwvvjg"], ["created_at", "2020-02-10 00:06:06.935635"], ["updated_at", "2020-02-10 00:06:06.935635"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.936704"], ["updated_at", "2020-02-10 00:06:06.936704"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"user_id"=>"nexqfwvvjg"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nexqfwvvjg"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" IS NULL[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" IS NULL[0m
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "ynjkfrgyls"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "ynjkfrgyls"], ["name", "Schuster, Simonis and Labadie"], ["price", 87.0], ["created_at", "2020-02-10 00:06:06.942187"], ["updated_at", "2020-02-10 00:06:06.942187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ujznduxjro"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "ujznduxjro"], ["created_at", "2020-02-10 00:06:06.944113"], ["updated_at", "2020-02-10 00:06:06.944113"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 11], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.945076"], ["updated_at", "2020-02-10 00:06:06.945076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["ynjkfrgyls"], "user_id"=>"ujznduxjro"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ujznduxjro"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "ynjkfrgyls"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "ynjkfrgyls"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 11]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 11], ["total", 87.0], ["created_at", "2020-02-10 00:06:06.948679"], ["updated_at", "2020-02-10 00:06:06.948679"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 7], ["product_id", 7], ["created_at", "2020-02-10 00:06:06.949567"], ["updated_at", "2020-02-10 00:06:06.949567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1931)
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["ynjkfrgyls"], "user_id"=>"ujznduxjro"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ujznduxjro"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "ynjkfrgyls"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "ynjkfrgyls"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 11]]
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "purchaseds" ON "products"."id" = "purchaseds"."product_id" WHERE "purchaseds"."order_id" = $1 AND "products"."code" = $2 LIMIT $3[0m  [["order_id", 7], ["code", "ynjkfrgyls"], ["LIMIT", 1]]
Completed 400 Bad Request in 10ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 5162)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "bkrlaehbfk"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "bkrlaehbfk"], ["name", "Gibson-O'Kon"], ["price", 11.0], ["created_at", "2020-02-10 00:06:06.964196"], ["updated_at", "2020-02-10 00:06:06.964196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tdyxqnshwl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "tdyxqnshwl"], ["created_at", "2020-02-10 00:06:06.966089"], ["updated_at", "2020-02-10 00:06:06.966089"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 12], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.967149"], ["updated_at", "2020-02-10 00:06:06.967149"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["bkrlaehbfk"], "user_id"=>"tdyxqnshwl"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tdyxqnshwl"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "bkrlaehbfk"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "bkrlaehbfk"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 12]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 12]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 12], ["total", 11.0], ["created_at", "2020-02-10 00:06:06.971219"], ["updated_at", "2020-02-10 00:06:06.971219"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 8], ["product_id", 8], ["created_at", "2020-02-10 00:06:06.972197"], ["updated_at", "2020-02-10 00:06:06.972197"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1931)
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["bkrlaehbfk"], "user_id"=>"tdyxqnshwl"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tdyxqnshwl"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "bkrlaehbfk"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "bkrlaehbfk"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 12]]
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "purchaseds" ON "products"."id" = "purchaseds"."product_id" WHERE "purchaseds"."order_id" = $1 AND "products"."code" = $2 LIMIT $3[0m  [["order_id", 8], ["code", "bkrlaehbfk"], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 1345)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "rwhsazwmdb"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "rwhsazwmdb"], ["name", "Schimmel-Williamson"], ["price", 41.0], ["created_at", "2020-02-10 00:06:06.981808"], ["updated_at", "2020-02-10 00:06:06.981808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "aiwqlubjzz"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "aiwqlubjzz"], ["created_at", "2020-02-10 00:06:06.984140"], ["updated_at", "2020-02-10 00:06:06.984140"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 13], ["amount", 500.0], ["created_at", "2020-02-10 00:06:06.986057"], ["updated_at", "2020-02-10 00:06:06.986057"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["rwhsazwmdb"], "user_id"=>"aiwqlubjzz"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "aiwqlubjzz"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "rwhsazwmdb"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "rwhsazwmdb"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 13]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 13], ["total", 41.0], ["created_at", "2020-02-10 00:06:06.991833"], ["updated_at", "2020-02-10 00:06:06.991833"]]
  [1m[36mPurchased Create (0.2ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 9], ["product_id", 9], ["created_at", "2020-02-10 00:06:06.992945"], ["updated_at", "2020-02-10 00:06:06.992945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1931)
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["rwhsazwmdb"], "user_id"=>"aiwqlubjzz"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "aiwqlubjzz"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "rwhsazwmdb"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "rwhsazwmdb"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 13]]
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "purchaseds" ON "products"."id" = "purchaseds"."product_id" WHERE "purchaseds"."order_id" = $1 AND "products"."code" = $2 LIMIT $3[0m  [["order_id", 9], ["code", "rwhsazwmdb"], ["LIMIT", 1]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 1345)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "kcqdtyxznw"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "kcqdtyxznw"], ["name", "Kautzer Inc"], ["price", 93.0], ["created_at", "2020-02-10 00:06:07.000459"], ["updated_at", "2020-02-10 00:06:07.000459"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "xyjvvujhfg"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "xyjvvujhfg"], ["created_at", "2020-02-10 00:06:07.002419"], ["updated_at", "2020-02-10 00:06:07.002419"]]
  [1m[36mBalance Create (0.3ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 14], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.004120"], ["updated_at", "2020-02-10 00:06:07.004120"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["kcqdtyxznw"], "user_id"=>"xyjvvujhfg"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "xyjvvujhfg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "kcqdtyxznw"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "kcqdtyxznw"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 14]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 14]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "total", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 14], ["total", 93.0], ["created_at", "2020-02-10 00:06:07.014692"], ["updated_at", "2020-02-10 00:06:07.014692"]]
  [1m[36mPurchased Create (0.4ms)[0m  [1m[32mINSERT INTO "purchaseds" ("order_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["order_id", 10], ["product_id", 10], ["created_at", "2020-02-10 00:06:07.016211"], ["updated_at", "2020-02-10 00:06:07.016211"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 2.3ms | Allocations: 1931)
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["kcqdtyxznw"], "user_id"=>"xyjvvujhfg"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "xyjvvujhfg"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "kcqdtyxznw"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "kcqdtyxznw"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 14]]
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" INNER JOIN "purchaseds" ON "products"."id" = "purchaseds"."product_id" WHERE "purchaseds"."order_id" = $1 AND "products"."code" = $2 LIMIT $3[0m  [["order_id", 10], ["code", "kcqdtyxznw"], ["LIMIT", 1]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 1345)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kacicmhizj"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "kacicmhizj"], ["created_at", "2020-02-10 00:06:07.026061"], ["updated_at", "2020-02-10 00:06:07.026061"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 15], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.027334"], ["updated_at", "2020-02-10 00:06:07.027334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "wmcqevosvq"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "wmcqevosvq"], ["name", "Turner, Blanda and Hartmann"], ["price", 1000.0], ["created_at", "2020-02-10 00:06:07.030207"], ["updated_at", "2020-02-10 00:06:07.030207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["wmcqevosvq"], "user_id"=>"kacicmhizj"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kacicmhizj"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "wmcqevosvq"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "wmcqevosvq"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 15]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1107)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ykmcmpgyxt"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "ykmcmpgyxt"], ["created_at", "2020-02-10 00:06:07.038431"], ["updated_at", "2020-02-10 00:06:07.038431"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 16], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.039471"], ["updated_at", "2020-02-10 00:06:07.039471"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "erwgglibde"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "erwgglibde"], ["name", "Hoeger and Sons"], ["price", 1000.0], ["created_at", "2020-02-10 00:06:07.041686"], ["updated_at", "2020-02-10 00:06:07.041686"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["erwgglibde"], "user_id"=>"ykmcmpgyxt"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ykmcmpgyxt"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "erwgglibde"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "erwgglibde"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 16]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 16]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1107)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ldvgxynvyf"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "ldvgxynvyf"], ["created_at", "2020-02-10 00:06:07.049563"], ["updated_at", "2020-02-10 00:06:07.049563"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 17], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.050945"], ["updated_at", "2020-02-10 00:06:07.050945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 17]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "erzipsnhus"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "erzipsnhus"], ["name", "Toy, Raynor and Ondricka"], ["price", 1000.0], ["created_at", "2020-02-10 00:06:07.053523"], ["updated_at", "2020-02-10 00:06:07.053523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["erzipsnhus"], "user_id"=>"ldvgxynvyf"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ldvgxynvyf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "erzipsnhus"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "erzipsnhus"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 17]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 17]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1107)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "znkzgkqwpl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "znkzgkqwpl"], ["created_at", "2020-02-10 00:06:07.061441"], ["updated_at", "2020-02-10 00:06:07.061441"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 18], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.062707"], ["updated_at", "2020-02-10 00:06:07.062707"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "zbbvyqilcp"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "zbbvyqilcp"], ["name", "Zemlak, Ritchie and Torp"], ["price", 1000.0], ["created_at", "2020-02-10 00:06:07.065437"], ["updated_at", "2020-02-10 00:06:07.065437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::OrdersController#create as JSON
  Parameters: {"order"=>{"items"=>["zbbvyqilcp"], "user_id"=>"znkzgkqwpl"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "znkzgkqwpl"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" WHERE "products"."code" = $1[0m  [["code", "zbbvyqilcp"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."code" = $1[0m  [["code", "zbbvyqilcp"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "products"."code" FROM "products"[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 18]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 18]]
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1107)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "kkkixcsryq"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "kkkixcsryq"], ["name", "Bartell-Feeney"], ["price", 51.0], ["created_at", "2020-02-10 00:06:07.075068"], ["updated_at", "2020-02-10 00:06:07.075068"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.3ms | Allocations: 3323)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "qikhhtahpz"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "qikhhtahpz"], ["name", "Johnston, Monahan and Cormier"], ["price", 91.0], ["created_at", "2020-02-10 00:06:07.088773"], ["updated_at", "2020-02-10 00:06:07.088773"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 262)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "vcgvenluqw"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "vcgvenluqw"], ["name", "Feeney, Hane and Murazik"], ["price", 66.0], ["created_at", "2020-02-10 00:06:07.093403"], ["updated_at", "2020-02-10 00:06:07.093403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 262)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "grvsxpqcfn"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "grvsxpqcfn"], ["name", "Fahey-Lemke"], ["price", 10.0], ["created_at", "2020-02-10 00:06:07.098084"], ["updated_at", "2020-02-10 00:06:07.098084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "ilgglpviqm"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "ilgglpviqm"], ["name", "Towne-Balistreri"], ["price", 38.0], ["created_at", "2020-02-10 00:06:07.102260"], ["updated_at", "2020-02-10 00:06:07.102260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "zibusoqugc"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.1ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "zibusoqugc"], ["name", "Christiansen, Spinka and Muller"], ["price", 88.0], ["created_at", "2020-02-10 00:06:07.106814"], ["updated_at", "2020-02-10 00:06:07.106814"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 262)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "nrlkuesndb"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("code", "name", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["code", "nrlkuesndb"], ["name", "Jones and Sons"], ["price", 71.0], ["created_at", "2020-02-10 00:06:07.112017"], ["updated_at", "2020-02-10 00:06:07.112017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::ProductsController#index as JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bngxxqngbl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bngxxqngbl"], ["created_at", "2020-02-10 00:06:07.135276"], ["updated_at", "2020-02-10 00:06:07.135276"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 19], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.136499"], ["updated_at", "2020-02-10 00:06:07.136499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>"bngxxqngbl"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bngxxqngbl"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 19]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 19]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 4051)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "gonpukouab"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "gonpukouab"], ["created_at", "2020-02-10 00:06:07.150259"], ["updated_at", "2020-02-10 00:06:07.150259"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 20], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.151268"], ["updated_at", "2020-02-10 00:06:07.151268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>"gonpukouab"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "gonpukouab"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 20]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 20]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "zksmsukakg"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "zksmsukakg"], ["created_at", "2020-02-10 00:06:07.156930"], ["updated_at", "2020-02-10 00:06:07.156930"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 21], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.157934"], ["updated_at", "2020-02-10 00:06:07.157934"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>"zksmsukakg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "zksmsukakg"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 21]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 21]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rfxrdnszhc"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "rfxrdnszhc"], ["created_at", "2020-02-10 00:06:07.163687"], ["updated_at", "2020-02-10 00:06:07.163687"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 22], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.164804"], ["updated_at", "2020-02-10 00:06:07.164804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>"rfxrdnszhc"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rfxrdnszhc"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 22]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 22]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kkdjgcprqu"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "kkdjgcprqu"], ["created_at", "2020-02-10 00:06:07.170196"], ["updated_at", "2020-02-10 00:06:07.170196"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 23], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.171123"], ["updated_at", "2020-02-10 00:06:07.171123"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>"kkdjgcprqu"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kkdjgcprqu"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 23]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("balances"."amount") FROM "balances" WHERE "balances"."user_id" = $1[0m  [["user_id", 23]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>""}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>""}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>""}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::UsersController#show as JSON
  Parameters: {"id"=>""}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "upqxbjtpmf"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "upqxbjtpmf"], ["created_at", "2020-02-10 00:06:07.185168"], ["updated_at", "2020-02-10 00:06:07.185168"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 24], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.186083"], ["updated_at", "2020-02-10 00:06:07.186083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "awyyftlkua"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "awyyftlkua"], ["created_at", "2020-02-10 00:06:07.189957"], ["updated_at", "2020-02-10 00:06:07.189957"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 25], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.191027"], ["updated_at", "2020-02-10 00:06:07.191027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "cdevedjhpb"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "cdevedjhpb"], ["created_at", "2020-02-10 00:06:07.203993"], ["updated_at", "2020-02-10 00:06:07.203993"]]
  [1m[36mBalance Create (0.3ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 26], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.205165"], ["updated_at", "2020-02-10 00:06:07.205165"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "qqhlvuzgqj"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "qqhlvuzgqj"], ["created_at", "2020-02-10 00:06:07.211843"], ["updated_at", "2020-02-10 00:06:07.211843"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 27], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.212832"], ["updated_at", "2020-02-10 00:06:07.212832"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "gmoshnugob"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "gmoshnugob"], ["created_at", "2020-02-10 00:06:07.217686"], ["updated_at", "2020-02-10 00:06:07.217686"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 28], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.218680"], ["updated_at", "2020-02-10 00:06:07.218680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "neuxtccvyp"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "neuxtccvyp"], ["created_at", "2020-02-10 00:06:07.230586"], ["updated_at", "2020-02-10 00:06:07.230586"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 29], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.231772"], ["updated_at", "2020-02-10 00:06:07.231772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "snrifaxekp"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "snrifaxekp"], ["created_at", "2020-02-10 00:06:07.235280"], ["updated_at", "2020-02-10 00:06:07.235280"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 30], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.236301"], ["updated_at", "2020-02-10 00:06:07.236301"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "duehypafbj"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "duehypafbj"], ["created_at", "2020-02-10 00:06:07.248904"], ["updated_at", "2020-02-10 00:06:07.248904"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 31], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.249898"], ["updated_at", "2020-02-10 00:06:07.249898"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "lnojbehinj"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "lnojbehinj"], ["created_at", "2020-02-10 00:06:07.263993"], ["updated_at", "2020-02-10 00:06:07.263993"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 32], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.266914"], ["updated_at", "2020-02-10 00:06:07.266914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vqvjncisbr"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "vqvjncisbr"], ["created_at", "2020-02-10 00:06:07.276110"], ["updated_at", "2020-02-10 00:06:07.276110"]]
  [1m[36mBalance Create (0.3ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 33], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.278379"], ["updated_at", "2020-02-10 00:06:07.278379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "oqiogptomv"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "oqiogptomv"], ["created_at", "2020-02-10 00:06:07.286522"], ["updated_at", "2020-02-10 00:06:07.286522"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 34], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.287476"], ["updated_at", "2020-02-10 00:06:07.287476"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jwbzmwllhr"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "jwbzmwllhr"], ["created_at", "2020-02-10 00:06:07.291572"], ["updated_at", "2020-02-10 00:06:07.291572"]]
  [1m[36mBalance Create (0.4ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 35], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.293179"], ["updated_at", "2020-02-10 00:06:07.293179"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "zmjccekqet"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "mtymzarlqp"], ["LIMIT", 1]]
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "mtymzarlqp"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "puitozsbrn"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "neribqpzsw"], ["LIMIT", 1]]
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "neribqpzsw"], ["LIMIT", 1]]
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "neribqpzsw"], ["LIMIT", 1]]
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "neribqpzsw"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "kjfzrsalptmkhsj"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "gtkocwljdb"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."code" = $1 LIMIT $2[0m  [["code", "ruybtxrsuk"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "iqgopfulby"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "iqgopfulby"], ["created_at", "2020-02-10 00:06:07.354800"], ["updated_at", "2020-02-10 00:06:07.354800"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 36], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.356278"], ["updated_at", "2020-02-10 00:06:07.356278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "tdmbppqtdp"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "tdmbppqtdp"], ["created_at", "2020-02-10 00:06:07.359914"], ["updated_at", "2020-02-10 00:06:07.359914"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 37], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.360856"], ["updated_at", "2020-02-10 00:06:07.360856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "yaoxztdcvs"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "yaoxztdcvs"], ["created_at", "2020-02-10 00:06:07.364527"], ["updated_at", "2020-02-10 00:06:07.364527"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 38], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.365512"], ["updated_at", "2020-02-10 00:06:07.365512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "lakwavtxom"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "lakwavtxom"], ["created_at", "2020-02-10 00:06:07.371001"], ["updated_at", "2020-02-10 00:06:07.371001"]]
  [1m[36mBalance Create (0.1ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 39], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.372059"], ["updated_at", "2020-02-10 00:06:07.372059"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "nvcmqtztsz"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bhgpgxkgdc"], ["created_at", "2020-02-10 00:06:07.397486"], ["updated_at", "2020-02-10 00:06:07.397486"]]
  [1m[36mBalance Create (0.2ms)[0m  [1m[32mINSERT INTO "balances" ("user_id", "amount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 40], ["amount", 500.0], ["created_at", "2020-02-10 00:06:07.398774"], ["updated_at", "2020-02-10 00:06:07.398774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_3[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bhgpgxkgdc"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "BHGPGXKGDC"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ofpmjeiahabsozy"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
